{% extends "base.html" %}

{% block title %}Detalle de Oferta{% endblock %}

{% block content %}
<div class="row">
    <div class="col">
        <h1>Detalle de Oferta #{{ oferta.id }}</h1>
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h5 class="card-title">Información de la Oferta</h5>
                        <dl class="row">
                            <dt class="col-sm-4">ID:</dt>
                            <dd class="col-sm-8">{{ oferta.id }}</dd>
                            
                            <dt class="col-sm-4">Estado:</dt>
                            <dd class="col-sm-8">
                                <span class="badge bg-{{ 'success' if oferta.estado == 'Aceptada' 
                                                   else 'warning' if oferta.estado == 'Pendiente' 
                                                   else 'danger' }}">
                                    {{ oferta.estado }}
                                </span>
                            </dd>
                            
                            <dt class="col-sm-4">Monto:</dt>
                            <dd class="col-sm-8">${{ "{:,.2f}".format(oferta.monto_ofrecido) }}</dd>
                            
                            <dt class="col-sm-4">Fecha:</dt>
                            <dd class="col-sm-8">{{ oferta.fecha_formateada }}</dd>
                        </dl>
                    </div>
                    
                    {% if proveedor %}
                    <div class="col-md-6">
                        <h5 class="card-title">Información del Proveedor</h5>
                        <dl class="row">
                            <dt class="col-sm-4">ID:</dt>
                            <dd class="col-sm-8">{{ proveedor.id }}</dd>
                            
                            <dt class="col-sm-4">Nombre:</dt>
                            <dd class="col-sm-8">{{ proveedor.nombre }}</dd>
                        </dl>
                    </div>
                    {% endif %}
                </div>
                
                {% if licitacion %}
                <div class="row mt-4">
                    <div class="col-12">
                        <h5 class="card-title">Información de la Licitación</h5>
                        <dl class="row">
                            <dt class="col-sm-2">ID:</dt>
                            <dd class="col-sm-10">{{ licitacion.id }}</dd>
                            
                            <dt class="col-sm-2">Título:</dt>
                            <dd class="col-sm-10">{{ licitacion.titulo }}</dd>
                            
                            <dt class="col-sm-2">Estado:</dt>
                            <dd class="col-sm-10">{{ licitacion.estado }}</dd>
                        </dl>
                    </div>
                </div>
                {% endif %}
                
                <div class="row mt-4">
                    <div class="col">
                        <a href="{{ url_for('ofertas.index') }}" class="btn btn-secondary">Volver a la lista</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}